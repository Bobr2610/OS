# Метрики параллельных алгоритмов

---

## Вопрос 19: Верхние оценки ускорения. Закон Мура. Закон Амдала. Расчет ускорения и эффективности

### Основные метрики

#### 1. Ускорение (Speedup)
**Определение**: Отношение времени выполнения последовательного алгоритма к времени выполнения параллельного алгоритма.
$$S_p = \frac{T_1}{T_p}$$
Где:
*   $T_1$ — время выполнения на 1 процессоре.
*   $T_p$ — время выполнения на $p$ процессорах.

**Интерпретация**:
*   $S_p = p$ — **Линейное (идеальное) ускорение**.
*   $S_p < p$ — **Сублинейное (реальное) ускорение**.
*   $S_p > p$ — **Суперлинейное ускорение** (редкий случай, обычно связан с эффектами кэша).

#### 2. Эффективность (Efficiency)
**Определение**: Отношение ускорения к количеству используемых процессоров. Показывает среднюю загрузку процессоров.
$$E_p = \frac{S_p}{p} = \frac{T_1}{p \cdot T_p}$$
**Интерпретация**:
*   $E_p = 1$ (100%) — идеальная загрузка.
*   Обычно $0 < E_p < 1$.

---

### Закон Мура (Moore's Law)
**Формулировка**: Количество транзисторов, размещаемых на кристалле интегральной схемы, удваивается каждые 24 месяца (изначально 12-18).
**Следствие**: Производительность процессоров росла экспоненциально долгое время за счет увеличения тактовой частоты и плотности транзисторов. Сейчас рост частоты остановился (из-за тепловыделения), и закон Мура реализуется через увеличение количества ядер (параллелизм).

---

### Закон Амдала (Amdahl's Law)
Определяет теоретический предел ускорения при распараллеливании задачи.
**Формулировка**: Ускорение программы ограничено временем, необходимым для выполнения её последовательной части.

**Формула**:
$$S_p = \frac{1}{f + \frac{1-f}{p}}$$
Где:
*   $f$ — доля последовательного кода (который нельзя распараллелить), $0 \le f \le 1$.
*   $1-f$ — доля параллелизуемого кода.
*   $p$ — количество процессоров.

**Предел при бесконечном числе процессоров ($p \to \infty$)**:
$$S_{max} = \frac{1}{f}$$

**Пример**:
Если 10% программы ($f=0.1$) выполняется последовательно, то максимальное ускорение, даже при миллиарде процессоров, не превысит 10 раз ($1/0.1$).

---

### Верхние оценки ускорения
Реальное ускорение всегда ограничено двумя факторами:
1.  **Аппаратным пределом**: $S_p \le p$ (нельзя ускориться больше, чем количество вычислителей).
2.  **Алгоритмическим пределом (по Амдалу)**: $S_p \le \frac{1}{f}$.

Таким образом, верхняя оценка:
$$S_p \le \min\left(p, \frac{1}{f}\right)$$

### Пример расчета
Дано:
*   Последовательное время ($T_1$) = 100 сек.
*   Параллельное время на 4 процессорах ($T_4$) = 40 сек.

1.  **Ускорение**:
    $S_4 = \frac{100}{40} = 2.5$
2.  **Эффективность**:
    $E_4 = \frac{2.5}{4} = 0.625$ (62.5%)
